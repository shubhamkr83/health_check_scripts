{
	"info": {
		"_postman_id": "5997513f-6019-43f2-bff8-07d7a5d2ca6e",
		"name": "Payment Health Check",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "26163708",
		"_collection_link": "https://soaring-owl.postman.co/workspace/Team-Workspace~b982b692-6b68-48ba-8f7d-f2e29dd13b44/collection/26163708-5997513f-6019-43f2-bff8-07d7a5d2ca6e?action=share&source=collection_link&creator=26163708"
	},
	"item": [
		{
			"name": "Login",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const responseData = pm.response.json();\r",
									"\r",
									"// 1. Basic Response Validation\r",
									"pm.test(\"Set access token to collection variable\", function () {\r",
									"    pm.collectionVariables.set(\"payment_token\", responseData.data.accessToken);\r",
									"});\r",
									"\r",
									"pm.test(\"Test the response status is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"const responseTimeThreshold = pm.globals.get(\"res_time\") || 20000; // Fallback to 10000ms if not set\r",
									"\r",
									"pm.test(`Validate response time is under ${responseTimeThreshold}ms`, function () {\r",
									"    if (pm.response.responseTime === undefined) {\r",
									"        pm.expect.fail(\"Response time measurement not available\");\r",
									"    } else {\r",
									"        pm.expect(pm.response.responseTime).to.be.below(Number(responseTimeThreshold));\r",
									"    }\r",
									"});\r",
									"\r",
									"// 2. Headers Validation\r",
									"pm.test(\"Check that 'Content-Type' header is present\", function () {\r",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.exist;\r",
									"});\r",
									"\r",
									"// 3. Response Content Validation\r",
									"pm.test(\"Validate response message equals 'Success'\", function() {\r",
									"    pm.expect(responseData.message).to.eql(\"Success\");\r",
									"});\r",
									"\r",
									"pm.test(\"Validate response contains all required fields in data\", function () {\r",
									"    pm.expect(responseData).to.be.an('object');\r",
									"    \r",
									"    const requiredFields = [\r",
									"        'phoneNumber', 'name', 'businessName', 'category', 'businessVerified', 'segment',\r",
									"        'deviceId', 'activated', 'isDeleted', 'introVideo', 'tagLine', 'businessType',\r",
									"        'dealsIn', 'termsCondition', 'bizupProtected', 'isSeller', 'introVideoThumbnail',\r",
									"        'isClaimed', 'accountManager', 'isCatalogAvailable', 'profileShareLink', 'persona',\r",
									"        'address', 'installReferrer', 'isWhatsappOptIn', 'sellOnBizup', 'businessCard',\r",
									"        'createdAt', 'updatedAt', 'shop', 'accessToken', 'refreshToken', 'isProfileComplete',\r",
									"        'fo', 'isFirstTime'\r",
									"    ];\r",
									"    \r",
									"    requiredFields.forEach(field => {\r",
									"        pm.expect(responseData.data).to.have.property(field);\r",
									"    });\r",
									"});\r",
									"\r",
									"pm.test(\"Validate the location object exists and is an object\", function () {\r",
									"    pm.expect(responseData).to.be.an('object');\r",
									"    pm.expect(responseData.data.location).to.exist.and.to.be.an('object');\r",
									"});\r",
									"\r",
									"pm.test(\"Validate 'category' is a non-empty array of strings\", function () {\r",
									"    pm.expect(responseData).to.have.property('data');\r",
									"    pm.expect(responseData.data).to.have.property('category').that.is.an('array').and.not.empty;\r",
									"    \r",
									"    responseData.data.category.forEach(function(category) {\r",
									"        pm.expect(category).to.be.a('string');\r",
									"    });\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// pm.collectionVariables.set(\"phoneNumber\", pm.iterationData.get(\"PhoneNumber\"));"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"phoneNumber\":\"{{phoneNumber}}\",\n    \"token\":\"000000\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{navo_base}}/api/auth/login",
							"host": [
								"{{navo_base}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "FSTAC",
			"item": [
				{
					"name": "FSTAC",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const responseData = pm.response.json();\r",
									"\r",
									"// Test Response Status\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"// Test Response Headers\r",
									"pm.test(\"Content-Type header is present\", function () {\r",
									"    pm.response.to.have.header(\"Content-Type\");\r",
									"});\r",
									"\r",
									"pm.test(\"Response time is acceptable 5000\", function () {\r",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);\r",
									"});\r",
									"\r",
									"\r",
									"// Test Response Body Structure\r",
									"pm.test(\"Response body is valid JSON\", function () {\r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"// Test Catalogs Array\r",
									"pm.test(\"Check the catalogs exist and array format\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    pm.expect(responseData.data.entity).to.have.property('catalogs');\r",
									"    pm.expect(responseData.data.entity.catalogs).to.be.an('array');\r",
									"    pm.expect(responseData.data.entity.catalogs).to.not.be.empty;\r",
									"    \r",
									"    // Check each catalog item is a string\r",
									"    responseData.data.entity.catalogs.forEach((catalogId, index) => {\r",
									"        pm.expect(catalogId).to.be.a('string', `Catalog item at index ${index} should be a string`);\r",
									"        pm.expect(catalogId).to.not.be.empty;\r",
									"        pm.expect(catalogId).to.match(/^[a-f0-9]{24}$/, `Catalog item at index ${index} should be a valid MongoDB ID`);\r",
									"    });\r",
									"});\r",
									"\r",
									"// Test Cart Items Structure\r",
									"pm.test(\"Check cartItems object structure and formats\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    const cartItems = responseData.data.entity.cartItems;\r",
									"    \r",
									"    cartItems.forEach((item, index) => {\r",
									"        // Test required fields existence and types\r",
									"        pm.expect(item).to.have.property('_id');\r",
									"        pm.expect(item._id).to.be.a('string');\r",
									"        pm.expect(item._id).to.not.be.empty;\r",
									"        \r",
									"        pm.expect(item).to.have.property('DriveLink');\r",
									"        pm.expect(item.DriveLink).to.be.a('string');\r",
									"        pm.expect(item.DriveLink).to.include('https://');\r",
									"        \r",
									"        pm.expect(item).to.have.property('title');\r",
									"        pm.expect(item.title).to.be.a('string');\r",
									"        pm.expect(item.title).to.not.be.empty;\r",
									"        \r",
									"        pm.expect(item).to.have.property('priceText');\r",
									"        pm.expect(item.priceText).to.be.a('number');\r",
									"        pm.expect(item.priceText).to.be.at.least(0);\r",
									"        \r",
									"        pm.expect(item).to.have.property('setQuantity');\r",
									"        pm.expect(item.setQuantity).to.be.a('number');\r",
									"        pm.expect(item.setQuantity).to.be.at.least(1);\r",
									"        \r",
									"        pm.expect(item).to.have.property('quantity');\r",
									"        pm.expect(item.quantity).to.be.a('number');\r",
									"        pm.expect(item.quantity).to.be.at.least(1);\r",
									"        \r",
									"        pm.expect(item).to.have.property('totalPrice');\r",
									"        pm.expect(item.totalPrice).to.be.a('number');\r",
									"        pm.expect(item.totalPrice).to.be.at.least(0);\r",
									"        \r",
									"        pm.expect(item).to.have.property('sellerId');\r",
									"        pm.expect(item.sellerId).to.be.a('string');\r",
									"        pm.expect(item.sellerId).to.not.be.empty;\r",
									"        \r",
									"        pm.expect(item).to.have.property('createdAt');\r",
									"        pm.expect(item.createdAt).to.be.a('string');\r",
									"        pm.expect(item.createdAt).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"        \r",
									"        pm.expect(item).to.have.property('updatedAt');\r",
									"        pm.expect(item.updatedAt).to.be.a('string');\r",
									"        pm.expect(item.updatedAt).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"    });\r",
									"});\r",
									"\r",
									"// Test Optional Fields in Cart Items\r",
									"pm.test(\"Check optional fields in cartItems\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    const cartItems = responseData.data.entity.cartItems;\r",
									"    \r",
									"    cartItems.forEach((item, index) => {\r",
									"        // collectionId is optional but should be string if present\r",
									"        if (item.hasOwnProperty('collectionId')) {\r",
									"            pm.expect(item.collectionId).to.be.a('string');\r",
									"        }\r",
									"        \r",
									"        // listingPrice is optional but should be null or number if present\r",
									"        if (item.hasOwnProperty('listingPrice')) {\r",
									"            pm.expect(item.listingPrice === null || typeof item.listingPrice === 'number').to.be.true;\r",
									"        }\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"// Test Payment Gateway\r",
									"pm.test(\"Check the payment_gateway exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('payment_gateway');\r",
									"    pm.expect(responseData.data.payment_gateway).to.be.a('string');\r",
									"    pm.expect(responseData.data.payment_gateway).to.equal('FSTAC');\r",
									"});\r",
									"\r",
									"// Test Transaction ID\r",
									"pm.test(\"Check the transactionId exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('transactionId');\r",
									"    pm.expect(responseData.data.entity.transactionId).to.be.a('string');\r",
									"    pm.expect(responseData.data.entity.transactionId).to.not.be.empty;\r",
									"});\r",
									"\r",
									"// Test Cart Total\r",
									"pm.test(\"Check the cartTotal exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('cartTotal');\r",
									"    pm.expect(responseData.data.entity.cartTotal).to.be.a('number');\r",
									"    pm.expect(responseData.data.entity.cartTotal).to.be.at.least(0);\r",
									"});\r",
									"\r",
									"// Test Total Payable\r",
									"pm.test(\"Check the totalPayable exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('totalPayable');\r",
									"    pm.expect(responseData.data.entity.totalPayable).to.be.a('number');\r",
									"    pm.expect(responseData.data.entity.totalPayable).to.be.at.least(0);\r",
									"});\r",
									"\r",
									"// Test Booking Amount\r",
									"pm.test(\"Check the bookingAmount exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('bookingAmount');\r",
									"    pm.expect(responseData.data.entity.bookingAmount).to.be.a('number');\r",
									"    pm.expect(responseData.data.entity.bookingAmount).to.be.at.least(0);\r",
									"});\r",
									"\r",
									"// Test Advance Payment\r",
									"pm.test(\"Check the advance payment exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('advancePartPayment');\r",
									"    pm.expect(responseData.data.entity.advancePartPayment).to.be.a('number');\r",
									"    pm.expect(responseData.data.entity.advancePartPayment).to.be.at.least(0);\r",
									"});\r",
									"\r",
									"// Test Status Field\r",
									"pm.test(\"Check the status exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('status');\r",
									"    pm.expect(responseData.data.status).to.be.a('number');\r",
									"});\r",
									"\r",
									"// Test Entity ID\r",
									"pm.test(\"Check the entityId exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('entityId');\r",
									"    pm.expect(responseData.data.entityId).to.be.a('string');\r",
									"});\r",
									"\r",
									"// Test Transaction Amount Type\r",
									"pm.test(\"Check the trasactionAmountType exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('trasactionAmountType');\r",
									"    pm.expect(responseData.data.entity.trasactionAmountType).to.be.a('string');\r",
									"    pm.expect(responseData.data.entity.trasactionAmountType).to.equal('BOOKING');\r",
									"});\r",
									"\r",
									"// Test Buyer ID\r",
									"pm.test(\"Check the buyerId exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('buyerId');\r",
									"    pm.expect(responseData.data.entity.buyerId).to.be.a('string');\r",
									"});\r",
									"\r",
									"// Test Timestamps\r",
									"pm.test(\"Check the createdAt exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('createdAt');\r",
									"    pm.expect(responseData.data.entity.createdAt).to.be.a('string');\r",
									"    pm.expect(responseData.data.entity.createdAt).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"});\r",
									"\r",
									"pm.test(\"Check the updatedAt exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('updatedAt');\r",
									"    pm.expect(responseData.data.entity.updatedAt).to.be.a('string');\r",
									"    pm.expect(responseData.data.entity.updatedAt).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"});\r",
									"\r",
									"// Test Payment Gateway Fields\r",
									"pm.test(\"Check the pg_start_time exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_start_time');\r",
									"    pm.expect(responseData.data.pg_start_time).to.be.a('string');\r",
									"    pm.expect(responseData.data.pg_start_time).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_update_time exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_update_time');\r",
									"    pm.expect(responseData.data.pg_update_time).to.be.a('string');\r",
									"    pm.expect(responseData.data.pg_update_time).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_id exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_id');\r",
									"    pm.expect(responseData.data.pg_id).to.be.a('string');\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_intent_link exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_intent_link');\r",
									"    pm.expect(responseData.data.pg_intent_link).to.be.a('string');\r",
									"    pm.expect(responseData.data.pg_intent_link).to.include('upi://pay');\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_status exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_status');\r",
									"    pm.expect(responseData.data.pg_status).to.be.a('string');\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_status_verbose exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_status_verbose');\r",
									"    pm.expect(responseData.data.pg_status_verbose).to.be.a('string');\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_transaction_ref exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_transaction_ref');\r",
									"    pm.expect(responseData.data.pg_transaction_ref).to.be.a('string');\r",
									"\r",
									"});\r",
									"\r",
									"// Test User Segment\r",
									"pm.test(\"Check the userSegment exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('userSegment');\r",
									"    pm.expect(responseData.data.userSegment).to.be.a('number');\r",
									"});\r",
									"\r",
									"// Test Transaction Amount Type\r",
									"pm.test(\"Check the payment_gateway is FSTAC\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('payment_gateway');\r",
									"    pm.expect(responseData.data.payment_gateway).to.be.a('string');\r",
									"    pm.expect(responseData.data.payment_gateway).to.equal('FSTAC');\r",
									"});\r",
									"\r",
									"// Test Data Consistency\r",
									"pm.test(\"Check amount consistency\", function () {\r",
									"    \r",
									"    if (responseData.cartTotal && responseData.totalPayable) {\r",
									"        pm.expect(responseData.totalPayable).to.be.at.most(responseData.cartTotal);\r",
									"    }\r",
									"    \r",
									"    if (responseData.bookingAmount && responseData.totalPayable) {\r",
									"        pm.expect(responseData.bookingAmount).to.be.at.most(responseData.totalPayable);\r",
									"    }\r",
									"});\r",
									"\r",
									"// Test Timestamp Consistency\r",
									"pm.test(\"Check timestamp consistency\", function () {\r",
									"    \r",
									"    if (responseData.createdAt && responseData.updatedAt) {\r",
									"        const createdAt = new Date(responseData.createdAt);\r",
									"        const updatedAt = new Date(responseData.updatedAt);\r",
									"        pm.expect(updatedAt.getTime()).to.be.at.least(createdAt.getTime());\r",
									"    }\r",
									"    \r",
									"    if (responseData.pg_start_time && responseData.pg_update_time) {\r",
									"        const pgStart = new Date(responseData.pg_start_time);\r",
									"        const pgUpdate = new Date(responseData.pg_update_time);\r",
									"        pm.expect(pgUpdate.getTime()).to.be.at.least(pgStart.getTime());\r",
									"    }\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT {{payment_token}}"
							},
							{
								"key": "AppVersion",
								"value": "3.3.0"
							},
							{
								"key": "AppVersionCode",
								"value": "163"
							},
							{
								"key": "User-Segment",
								"value": "2"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Connection",
								"value": "keep-alive"
							},
							{
								"key": "Accept-Language",
								"value": "en"
							},
							{
								"key": "zone",
								"value": "india"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"transactionType\":\"BOOKING\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{navo_base}}/v1/transaction/intent/pay/68383213df5a92a14ddba268",
							"host": [
								"{{navo_base}}"
							],
							"path": [
								"v1",
								"transaction",
								"intent",
								"pay",
								"68383213df5a92a14ddba268"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Phonepe",
			"item": [
				{
					"name": "PhonePe",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const responseData = pm.response.json();\r",
									"\r",
									"// Test Response Status\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response time is acceptable 5000ms\", function () {\r",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);\r",
									"});\r",
									"\r",
									"// Test Response Body Structure\r",
									"pm.test(\"Response body is valid JSON\", function () {\r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"// Test Response Headers\r",
									"pm.test(\"Content-Type header is present\", function () {\r",
									"    pm.response.to.have.header(\"Content-Type\");\r",
									"});\r",
									"\r",
									"\r",
									"// Test Catalogs Array\r",
									"pm.test(\"Check the catalogs exist and array format\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    pm.expect(responseData.data.entity).to.have.property('catalogs');\r",
									"    pm.expect(responseData.data.entity.catalogs).to.be.an('array');\r",
									"    pm.expect(responseData.data.entity.catalogs).to.not.be.empty;\r",
									"    \r",
									"    // Check each catalog item is a string\r",
									"    responseData.data.entity.catalogs.forEach((catalogId, index) => {\r",
									"        pm.expect(catalogId).to.be.a('string', `Catalog item at index ${index} should be a string`);\r",
									"        pm.expect(catalogId).to.not.be.empty;\r",
									"        pm.expect(catalogId).to.match(/^[a-f0-9]{24}$/, `Catalog item at index ${index} should be a valid MongoDB ID`);\r",
									"    });\r",
									"});\r",
									"\r",
									"// Test Cart Items Structure\r",
									"pm.test(\"Check cartItems object structure and formats\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    const cartItems = responseData.data.entity.cartItems;\r",
									"    \r",
									"    cartItems.forEach((item, index) => {\r",
									"        // Test required fields existence and types\r",
									"        pm.expect(item).to.have.property('_id');\r",
									"        pm.expect(item._id).to.be.a('string');\r",
									"        pm.expect(item._id).to.not.be.empty;\r",
									"        \r",
									"        pm.expect(item).to.have.property('DriveLink');\r",
									"        pm.expect(item.DriveLink).to.be.a('string');\r",
									"        pm.expect(item.DriveLink).to.include('https://');\r",
									"        \r",
									"        pm.expect(item).to.have.property('title');\r",
									"        pm.expect(item.title).to.be.a('string');\r",
									"        pm.expect(item.title).to.not.be.empty;\r",
									"        \r",
									"        pm.expect(item).to.have.property('priceText');\r",
									"        pm.expect(item.priceText).to.be.a('number');\r",
									"        pm.expect(item.priceText).to.be.at.least(0);\r",
									"        \r",
									"        pm.expect(item).to.have.property('setQuantity');\r",
									"        pm.expect(item.setQuantity).to.be.a('number');\r",
									"        pm.expect(item.setQuantity).to.be.at.least(1);\r",
									"        \r",
									"        pm.expect(item).to.have.property('quantity');\r",
									"        pm.expect(item.quantity).to.be.a('number');\r",
									"        pm.expect(item.quantity).to.be.at.least(1);\r",
									"        \r",
									"        pm.expect(item).to.have.property('totalPrice');\r",
									"        pm.expect(item.totalPrice).to.be.a('number');\r",
									"        pm.expect(item.totalPrice).to.be.at.least(0);\r",
									"        \r",
									"        pm.expect(item).to.have.property('sellerId');\r",
									"        pm.expect(item.sellerId).to.be.a('string');\r",
									"        pm.expect(item.sellerId).to.not.be.empty;\r",
									"        \r",
									"        pm.expect(item).to.have.property('createdAt');\r",
									"        pm.expect(item.createdAt).to.be.a('string');\r",
									"        pm.expect(item.createdAt).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"        \r",
									"        pm.expect(item).to.have.property('updatedAt');\r",
									"        pm.expect(item.updatedAt).to.be.a('string');\r",
									"        pm.expect(item.updatedAt).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"    });\r",
									"});\r",
									"\r",
									"// Test Optional Fields in Cart Items\r",
									"pm.test(\"Check optional fields in cartItems\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    const cartItems = responseData.data.entity.cartItems;\r",
									"    \r",
									"    cartItems.forEach((item, index) => {\r",
									"        // collectionId is optional but should be string if present\r",
									"        if (item.hasOwnProperty('collectionId')) {\r",
									"            pm.expect(item.collectionId).to.be.a('string');\r",
									"        }\r",
									"        \r",
									"        // listingPrice is optional but should be null or number if present\r",
									"        if (item.hasOwnProperty('listingPrice')) {\r",
									"            pm.expect(item.listingPrice === null || typeof item.listingPrice === 'number').to.be.true;\r",
									"        }\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"// Test Payment Gateway\r",
									"pm.test(\"Check the payment_gateway exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('payment_gateway');\r",
									"    pm.expect(responseData.data.payment_gateway).to.be.a('string');\r",
									"    pm.expect(responseData.data.payment_gateway).to.equal('PHONE_PE');\r",
									"});\r",
									"\r",
									"// Test Transaction ID\r",
									"pm.test(\"Check the transactionId exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('transactionId');\r",
									"    pm.expect(responseData.data.entity.transactionId).to.be.a('string');\r",
									"    pm.expect(responseData.data.entity.transactionId).to.not.be.empty;\r",
									"});\r",
									"\r",
									"// Test Cart Total\r",
									"pm.test(\"Check the cartTotal exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('cartTotal');\r",
									"    pm.expect(responseData.data.entity.cartTotal).to.be.a('number');\r",
									"    pm.expect(responseData.data.entity.cartTotal).to.be.at.least(0);\r",
									"});\r",
									"\r",
									"// Test Total Payable\r",
									"pm.test(\"Check the totalPayable exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('totalPayable');\r",
									"    pm.expect(responseData.data.entity.totalPayable).to.be.a('number');\r",
									"    pm.expect(responseData.data.entity.totalPayable).to.be.at.least(0);\r",
									"});\r",
									"\r",
									"// Test Booking Amount\r",
									"pm.test(\"Check the bookingAmount exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('bookingAmount');\r",
									"    pm.expect(responseData.data.entity.bookingAmount).to.be.a('number');\r",
									"    pm.expect(responseData.data.entity.bookingAmount).to.be.at.least(0);\r",
									"});\r",
									"\r",
									"// Test Advance Payment\r",
									"pm.test(\"Check the advance payment exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('advancePartPayment');\r",
									"    pm.expect(responseData.data.entity.advancePartPayment).to.be.a('number');\r",
									"    pm.expect(responseData.data.entity.advancePartPayment).to.be.at.least(0);\r",
									"});\r",
									"\r",
									"// Test Status Field\r",
									"pm.test(\"Check the status exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('status');\r",
									"    pm.expect(responseData.data.status).to.be.a('number');\r",
									"});\r",
									"\r",
									"// Test Entity ID\r",
									"pm.test(\"Check the entityId exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('entityId');\r",
									"    pm.expect(responseData.data.entityId).to.be.a('string');\r",
									"});\r",
									"\r",
									"// Test Transaction Amount Type\r",
									"pm.test(\"Check the trasactionAmountType exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('trasactionAmountType');\r",
									"    pm.expect(responseData.data.entity.trasactionAmountType).to.be.a('string');\r",
									"    pm.expect(responseData.data.entity.trasactionAmountType).to.equal('BOOKING');\r",
									"});\r",
									"\r",
									"// Test Buyer ID\r",
									"pm.test(\"Check the buyerId exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('buyerId');\r",
									"    pm.expect(responseData.data.entity.buyerId).to.be.a('string');\r",
									"});\r",
									"\r",
									"// Test Timestamps\r",
									"pm.test(\"Check the createdAt exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('createdAt');\r",
									"    pm.expect(responseData.data.entity.createdAt).to.be.a('string');\r",
									"    pm.expect(responseData.data.entity.createdAt).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"});\r",
									"\r",
									"pm.test(\"Check the updatedAt exist and format\", function () {\r",
									"    pm.expect(responseData.data.entity).to.have.property('updatedAt');\r",
									"    pm.expect(responseData.data.entity.updatedAt).to.be.a('string');\r",
									"    pm.expect(responseData.data.entity.updatedAt).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"});\r",
									"\r",
									"// Test Payment Gateway Fields\r",
									"pm.test(\"Check the pg_start_time exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_start_time');\r",
									"    pm.expect(responseData.data.pg_start_time).to.be.a('string');\r",
									"    pm.expect(responseData.data.pg_start_time).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_update_time exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_update_time');\r",
									"    pm.expect(responseData.data.pg_update_time).to.be.a('string');\r",
									"    pm.expect(responseData.data.pg_update_time).to.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/);\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_id exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_id');\r",
									"    pm.expect(responseData.data.pg_id).to.be.a('string');\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Check the pg_status exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_status');\r",
									"    pm.expect(responseData.data.pg_status).to.be.a('string');\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_status_verbose exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_status_verbose');\r",
									"    pm.expect(responseData.data.pg_status_verbose).to.be.a('string');\r",
									"});\r",
									"\r",
									"pm.test(\"Check the pg_transaction_ref exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('pg_transaction_ref');\r",
									"    pm.expect(responseData.data.pg_transaction_ref).to.be.a('string');\r",
									"\r",
									"});\r",
									"\r",
									"// Test User Segment\r",
									"pm.test(\"Check the userSegment exist and format\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('userSegment');\r",
									"    pm.expect(responseData.data.userSegment).to.be.a('number');\r",
									"});\r",
									"\r",
									"// Test Transaction Amount Type\r",
									"pm.test(\"Check the payment_gateway is PHONE_PE\", function () {\r",
									"    pm.expect(responseData.data).to.have.property('payment_gateway');\r",
									"    pm.expect(responseData.data.payment_gateway).to.be.a('string');\r",
									"    pm.expect(responseData.data.payment_gateway).to.equal('PHONE_PE');\r",
									"});\r",
									"\r",
									"// Test Data Consistency\r",
									"pm.test(\"Check amount consistency\", function () {\r",
									"    \r",
									"    if (responseData.cartTotal && responseData.totalPayable) {\r",
									"        pm.expect(responseData.totalPayable).to.be.at.most(responseData.cartTotal);\r",
									"    }\r",
									"    \r",
									"    if (responseData.bookingAmount && responseData.totalPayable) {\r",
									"        pm.expect(responseData.bookingAmount).to.be.at.most(responseData.totalPayable);\r",
									"    }\r",
									"});\r",
									"\r",
									"// Test Timestamp Consistency\r",
									"pm.test(\"Check timestamp consistency\", function () {\r",
									"    \r",
									"    if (responseData.createdAt && responseData.updatedAt) {\r",
									"        const createdAt = new Date(responseData.createdAt);\r",
									"        const updatedAt = new Date(responseData.updatedAt);\r",
									"        pm.expect(updatedAt.getTime()).to.be.at.least(createdAt.getTime());\r",
									"    }\r",
									"    \r",
									"    if (responseData.pg_start_time && responseData.pg_update_time) {\r",
									"        const pgStart = new Date(responseData.pg_start_time);\r",
									"        const pgUpdate = new Date(responseData.pg_update_time);\r",
									"        pm.expect(pgUpdate.getTime()).to.be.at.least(pgStart.getTime());\r",
									"    }\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT {{payment_token}}"
							},
							{
								"key": "AppVersion",
								"value": "3.3.0"
							},
							{
								"key": "AppVersionCode",
								"value": "163"
							},
							{
								"key": "User-Segment",
								"value": "2"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Connection",
								"value": "keep-alive"
							},
							{
								"key": "Accept-Language",
								"value": "en"
							},
							{
								"key": "zone",
								"value": "india"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"transactionType\":\"BOOKING\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{navo_base}}/v1/transaction/intent/pay_v2/68383213df5a92a14ddba268",
							"host": [
								"{{navo_base}}"
							],
							"path": [
								"v1",
								"transaction",
								"intent",
								"pay_v2",
								"68383213df5a92a14ddba268"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "phoneNumber",
			"value": "+911119997000"
		},
		{
			"key": "navo_base",
			"value": "https://api.navofashion.in"
		},
		{
			"key": "payment_token",
			"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2ODE4YWZiYmJhYWE4NzU5NjA1NzhjN2UiLCJwaG9uZU51bWJlciI6Iis5MTExMTk5OTcwMDAiLCJuYW1lIjoiR3Vlc3QiLCJidXNpbmVzc05hbWUiOiJzaG9wIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzYwNDIyNTcwLCJleHAiOjE3NjA1MDg5NzB9.r-eJMsCu3149Q1YwOOIEe_JHzNvCS9ufuExcjq5rvC0"
		}
	]
}